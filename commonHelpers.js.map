{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '42750386-32909fc47eb0ca0c6c8fc758e';\n\nexport function getPhotos(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionsDelay: 250,\n});\n\nexport function photoItemTemplate(photoObj) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = photoObj;\n  return `\n     <li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\" class=\"photo-link\">\n            <img class=\"photo\"\n                width=\"360\"\n                height=\"152\"\n                src=\"${webformatURL}\" \n                alt=\"${tags}\" \n            />\n          </a>\n          <p class=\"info-photo-box\">\n            <span class=\"info-item\"><b>Likes</b><br/>${likes}</span>\n            <span class=\"info-item\"><b>Views</b><br/>${views}</span>\n            <span class=\"info-item\"><b>Comments</b><br/>${comments}</span>\n            <span class=\"info-item\"><b>Downloads</b><br/>${downloads}</span>\n          </p>\n        </li>\n    `;\n}\n\nexport function photosTemplate(arr) {\n  return arr.map(photoItemTemplate).join('');\n}\n\nexport function refreshLightbox() {\n  lightbox.refresh();\n}\n","export default \"__VITE_ASSET__3108d0c6__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getPhotos } from './js/pixabay-api';\nimport { photosTemplate, refreshLightbox } from './js/render-functions';\n\nimport error from './img/bi_x-octagon.svg';\n\nconst loader = document.querySelector('.loader-container');\nconst formEl = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nformEl.addEventListener('submit', onSubmitHandler);\n\nfunction onSubmitHandler(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n\n  const searchInputValue = e.target.elements.query.value.trim();\n\n  if (!searchInputValue) {\n    showEmptyInputToast(), hideLoader();\n    return;\n  }\n\n  showLoader();\n\n  getPhotos(searchInputValue)\n    .then(data => {\n      if (data.totalHits === 0) {\n        return showErrorToast();\n      }\n      const markup = photosTemplate(data.hits);\n      gallery.innerHTML = markup;\n      refreshLightbox();\n    })\n    .catch(() => showError('Something went wrong!!!'))\n    .finally(hideLoader);\n  e.target.reset();\n}\n\nfunction showErrorToast() {\n  return iziToast.error({\n    title: '',\n    backgroundColor: '#EF4040',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    message:\n      'Sorry, there are no images matching <br/> your search query. Please, try again!',\n    iconUrl: error,\n    color: '#fff',\n    position: 'topRight',\n    progressBarColor: '#B51B1B',\n  });\n}\n\nfunction showEmptyInputToast() {\n  return iziToast.error({\n    title: '',\n    backgroundColor: '#c55f5f',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    message: 'Search line is empty',\n    iconUrl: error,\n    color: '#fff',\n    position: 'topRight',\n    progressBarColor: '#B51B1B',\n  });\n}\nfunction showError(messageErr) {\n  return iziToast.error({\n    title: '',\n    backgroundColor: '#c55f5f',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    message: messageErr,\n    icon: false,\n    color: '#fff',\n    position: 'topRight',\n    progressBarColor: '#B51B1B',\n  });\n}\n\nfunction showLoader() {\n  return loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  return loader.classList.add('is-hidden');\n}\n"],"names":["BASE_URL","API_KEY","getPhotos","query","params","url","res","lightbox","SimpleLightbox","photoItemTemplate","photoObj","webformatURL","largeImageURL","tags","likes","views","comments","downloads","photosTemplate","arr","refreshLightbox","error","loader","formEl","gallery","onSubmitHandler","e","searchInputValue","showEmptyInputToast","hideLoader","showLoader","data","showErrorToast","markup","showError","iziToast","messageErr"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKE,EAAM,GAAGL,CAAQ,IAAII,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCjBA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,cAAe,GACjB,CAAC,EAEM,SAASC,EAAkBC,EAAU,CAC1C,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,qBAEYE,CAAa;AAAA;AAAA;AAAA;AAAA,uBAIXD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,uDAI4BC,CAAK;AAAA,uDACLC,CAAK;AAAA,0DACFC,CAAQ;AAAA,2DACPC,CAAS;AAAA;AAAA;AAAA,KAIpE,CAEO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIV,CAAiB,EAAE,KAAK,EAAE,CAC3C,CAEO,SAASW,GAAkB,CAChCb,EAAS,QAAO,CAClB,CC7CA,MAAec,EAAA,kDCQTC,EAAS,SAAS,cAAc,mBAAmB,EACnDC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAO,iBAAiB,SAAUE,CAAe,EAEjD,SAASA,EAAgBC,EAAG,CAC1BA,EAAE,eAAc,EAChBF,EAAQ,UAAY,GAEpB,MAAMG,EAAmBD,EAAE,OAAO,SAAS,MAAM,MAAM,OAEvD,GAAI,CAACC,EAAkB,CACrBC,EAAmB,EAAIC,IACvB,MACD,CAEDC,IAEA5B,EAAUyB,CAAgB,EACvB,KAAKI,GAAQ,CACZ,GAAIA,EAAK,YAAc,EACrB,OAAOC,EAAc,EAEvB,MAAMC,EAASf,EAAea,EAAK,IAAI,EACvCP,EAAQ,UAAYS,EACpBb,GACN,CAAK,EACA,MAAM,IAAMc,EAAU,yBAAyB,CAAC,EAChD,QAAQL,CAAU,EACrBH,EAAE,OAAO,OACX,CAEA,SAASM,GAAiB,CACxB,OAAOG,EAAS,MAAM,CACpB,MAAO,GACP,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,QACE,kFACF,QAASd,EACT,MAAO,OACP,SAAU,WACV,iBAAkB,SACtB,CAAG,CACH,CAEA,SAASO,GAAsB,CAC7B,OAAOO,EAAS,MAAM,CACpB,MAAO,GACP,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,QAAS,uBACT,QAASd,EACT,MAAO,OACP,SAAU,WACV,iBAAkB,SACtB,CAAG,CACH,CACA,SAASa,EAAUE,EAAY,CAC7B,OAAOD,EAAS,MAAM,CACpB,MAAO,GACP,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,QAASC,EACT,KAAM,GACN,MAAO,OACP,SAAU,WACV,iBAAkB,SACtB,CAAG,CACH,CAEA,SAASN,GAAa,CACpB,OAAOR,EAAO,UAAU,OAAO,WAAW,CAC5C,CAEA,SAASO,GAAa,CACpB,OAAOP,EAAO,UAAU,IAAI,WAAW,CACzC"}